<div class="container pt-4 pb-4">
  <div class="room-detail-header d-flex justify-content-between">
    <%= link_to "←戻る", :back %>
    <% if user_signed_in? && @room.user_id == @user.id %>
      <%= link_to "編集", edit_room_path(@room.id) %>
    <% end %>
  </div>
  <%= render "shared/error_message", obj: @reservation %>
  <div class="row">
    <% if @room.avatar.attached? %>
      <%= image_tag @room.avatar, class:"col-5" %>
    <% else %>
      <%= image_tag "default-room", class:"col-5"%>
    <% end %>
    <div class="col-7 room-detail-wrapper">
      <div class="d-flex justify-content-between fs-3">
        <p><%= @room.name %></p>
        <p class="room-detail-fee">¥<%= @room.fee.to_s(:delimited) %>~</p>
      </div>
      <p><%= @room.address %></p>
      <p><%= @room.detail %></p>
      <div class="reservation-form">
        <%= form_with(model: [@room, @reservation]) do |f| %>
          <div class="row mb-4">
            <div class="form-group col-4">
              <%= f.label :check_in, "チェックイン", class:"form-label" %>
              <%= f.date_field :check_in, placeholder:"---- / -- / --", class:"form-control" %>
            </div>
            <div class="form-group col-4">
              <%= f.label :check_out, "チェックアウト", class:"form-label" %>
              <%= f.date_field :check_out, placeholder:"---- / -- / --", class:"form-control" %>
            </div>
            <div class="form-group col-4">
              <%= f.label :number, "人数", class:"form-label" %>
              <%= f.number_field :number, placeholder:"0", class:"form-control" %>
            </div>
            <%= f.hidden_field :room_id, value: @room.id %>
            <% if user_signed_in? %>
              <%= f.hidden_field :user_id, value: @user.id %>
            <% end %>
          </div>
          <div class="form-group col-12">
            <% if user_signed_in? %>
              <%= f.submit "予約する", class:"btn btn-primary w-100" %>
            <% else %>
              <%= link_to "ログイン", new_user_session_path, class:"btn btn-primary w-100" %>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
